# 折线图 
## 元素的样式计算规则

- 一个完整的折线图包含以下元素
  - 标题（可选，目前默认不显示）
  - 坐标轴，top、bottom、left、right四个方向均有坐标轴
  - 图例与数据表格
  - 固定游标
  - 主绘图区

- 坐标轴
  - 四个方向上的坐标轴数量理论上都是无限的，可以随意扩充，因此在计算主绘图区的尺寸和偏移量时需要计算出坐标轴的位置和尺寸。
  - 坐标轴的组成元素包括spine、tick、subTick和text
  
  - 坐标显示方式
    坐标轴的显示方式，主要有两种，原始（original）和取整优化居中（round-center）。不管采用哪种方式，tick应该取整（tickStep为1、2、5、10
    的倍数）。
  
  - 原始（original）
    这种显示方式，坐标轴端点的起止刻度严格依照设置的domain，不会进行优化处理。而设置的tickCount刻度数量将不会起作用，系统通过
    坐标轴的长度自动计算合适的tickStep。在图表进行平移、缩放的操作时，会用到这种坐标轴显示方式。
  
  - 取整优化居中（round-center）
    根据tickCount和domain设置，计算合适的tickStep，进而算出优化后的坐标轴刻度起点和终点。这意味着坐标轴的端点会被取整优化，得到新的domain，
    并更新到axis对象。在图表初始化或者用户选择坐标轴自适应操作时，会用到这种坐标轴显示方式。
  
  - 主刻度 tick
    主刻度与subTick在显示上会有所区分，例如长度或颜色。默认情况下，考虑到紧凑布局，只有主刻度才会显示相应的text。

- 主绘图区
  - 折线图的数据源可以是MDF测量文件或Excel文件。
  - 包含时间和值的映射关系的这样一组数据，称之为通道。
  - 通道的原始值都是浮点数，经过转换的值可能是浮点数、布尔值或字符串（暂时不考虑）。当为布尔值时，高度上通常不需要很大的
    显示范围，因此默认样式会将布尔型的通道组高度上压缩到一个固定值，以节约高度。
  - y轴的显示模式有：
    - 所有通道共享一根y轴，left、right方向上最多只有一根轴。
    - 指定分组在高度方向上堆叠，属于同一组的通道共享一根y轴。（默认样式）
    - 按照单位或信号来源分组，高度方向上不堆叠，left、right方向上有多根y轴。
  - x轴（时间轴），n个数据源（文件）对应了n个x轴，可以选择显示或隐藏，有明确标识标明该时间轴的序号。
  
 - 固定游标
  - 当按住alt键，鼠标在主绘图区移动时，浮动游标会显示当前位置的所有通道的值。这时单击鼠标，会在当前鼠标位置留下一条固定游标。

## 方法
- addData(mdf, ['channelname 1', ..., 'channelname n'])
  addData(mdf, ['channelname 1', ..., 'channelname n'])：添加n个通道
  
- loadData(mdf), loadData(mdf, ['channelname 1', ... , 'channelname n'])
  loadData(mdf): 如果已经有通道绑定，则沿用绑定的通道分组，并将具体的数组数据替换成新的mdf文件中的对应的数据，并返回true；若没有绑定通道，则返回
  false。如果在新的mdf文件中找不到之前已经绑定的通道,保留该通道，但是将该通道的图例的名称颜色标红。
  loadData(mdf, ['channelname 1', ... , 'channelname n']): 将绑定的数据完全替换成新文件mdf中的新通道

- draw(options)
  options成员：
  multiY: false/true, 同一个通道组是显示一个y轴还是显示多个y轴
  
  
